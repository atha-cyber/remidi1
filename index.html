<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LJK Digital - Ujian Online</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .answer-scroll::-webkit-scrollbar {
            width: 8px;
        }
        .answer-scroll::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        .answer-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        .answer-scroll::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
        /* Efek saat opsi dipilih */
        .option-radio:checked + div {
            background-color: #2563eb; /* Blue-600 */
            color: white;
            border-color: #2563eb;
            transform: scale(1.1);
        }
    </style>
</head>
<body class="bg-gray-100 h-screen overflow-hidden flex flex-col font-sans">

    <!-- Header -->
    <header class="bg-slate-800 text-white p-3 shadow-md flex justify-between items-center z-20 shrink-0">
        <div class="flex items-center">
            <div class="mr-3 bg-slate-700 p-2 rounded-lg">
                <i class="fas fa-file-alt text-xl"></i>
            </div>
            <div>
                <h1 class="text-md font-bold leading-tight">Ujian Semester Ganjil</h1>
                <p class="text-xs text-slate-300">Bahasa Indonesia</p>
            </div>
        </div>
        <div>
            <div class="text-xs text-slate-400 mb-1 text-right">Sisa Waktu</div>
            <span id="timer" class="font-mono text-xl font-bold bg-slate-700 px-3 py-1 rounded text-yellow-400 border border-slate-600">00:00:00</span>
        </div>
    </header>

    <!-- Main Content -->
    <div class="flex-1 flex flex-col md:flex-row overflow-hidden relative">

        <!-- KIRI: Soal / Flipbook -->
        <div class="w-full h-[45%] md:h-full md:w-[65%] bg-slate-900 relative shadow-xl z-0 border-r border-slate-700">
            <!-- Loading -->
            <div class="absolute inset-0 flex items-center justify-center text-slate-500 z-0">
                <p><i class="fas fa-spinner fa-spin mr-2"></i>Memuat Buku Soal...</p>
            </div>
            <!-- Heyzine Embed -->
            <iframe 
                src="https://heyzine.com/flip-book/dd27c1ad35.html" 
                frameborder="0" 
                allowfullscreen 
                class="absolute inset-0 w-full h-full z-10"
            ></iframe>
        </div>

        <!-- KANAN: Lembar Jawab Komputer (LJK) -->
        <div class="w-full h-[55%] md:h-full md:w-[35%] bg-white flex flex-col shadow-2xl relative z-10">
            
            <!-- Identitas Siswa -->
            <div class="p-4 bg-slate-50 border-b border-slate-200 shrink-0 shadow-sm">
                <div class="flex justify-between items-center mb-2">
                    <h2 class="font-bold text-slate-700 text-sm uppercase tracking-wider"><i class="fas fa-edit mr-1"></i> Lembar Jawab</h2>
                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full font-semibold" id="soalCountLabel">0 Soal</span>
                </div>
                <input type="text" id="studentName" placeholder="Nama Lengkap Siswa" class="w-full px-3 py-2 bg-white border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm shadow-sm transition-all">
            </div>

            <!-- Container Soal (Generated by JS) -->
            <div class="flex-1 overflow-y-auto p-3 answer-scroll bg-slate-100/50 pb-24 relative">
                <!-- Grid Background Pattern -->
                <div class="absolute inset-0 opacity-[0.03]" style="background-image: radial-gradient(#000 1px, transparent 1px); background-size: 20px 20px;"></div>
                
                <form id="ljkForm" class="space-y-2 relative z-10">
                    <!-- Soal akan muncul di sini otomatis -->
                </form>
            </div>

            <!-- Tombol Kirim -->
            <div class="p-4 bg-white border-t border-slate-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] shrink-0 z-20">
                <button onclick="submitExam()" class="w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold py-3 px-4 rounded-lg shadow-lg transform active:scale-[0.98] transition-all flex items-center justify-center group">
                    <span>Kirim Jawaban</span>
                    <i class="fas fa-paper-plane ml-2 group-hover:translate-x-1 transition-transform"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Konfirmasi/Sukses -->
    <div id="successModal" class="fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl p-6 max-w-sm w-full text-center transform transition-all scale-100 border border-slate-200">
            <div class="mx-auto flex items-center justify-center h-14 w-14 rounded-full bg-green-100 mb-4 shadow-inner">
                <i class="fas fa-check text-green-600 text-2xl"></i>
            </div>
            <h3 class="text-xl font-bold text-slate-800 mb-2">Jawaban Terkirim!</h3>
            <p class="text-sm text-slate-500 mb-6">Terima kasih, <span id="modalName" class="font-bold text-slate-800"></span>. Jawaban Anda telah kami simpan.</p>
            <button onclick="closeModal()" class="w-full py-2.5 bg-slate-800 text-white rounded-lg hover:bg-slate-900 font-medium transition-colors">
                Tutup
            </button>
        </div>
    </div>

    <script>
        // --- KONFIGURASI SOAL DI SINI ---
        const JUMLAH_SOAL = 40;  // Ubah angka ini sesuai jumlah soal ujian
        const OPSI_JAWABAN = ['A', 'B', 'C', 'D', 'E']; // Hapus 'E' jika hanya sampai D
        // ---------------------------------

        // 1. Generate LJK Otomatis
        const formContainer = document.getElementById('ljkForm');
        document.getElementById('soalCountLabel').innerText = `${JUMLAH_SOAL} Soal`;

        for (let i = 1; i <= JUMLAH_SOAL; i++) {
            // Buat baris container per nomor
            const rowDiv = document.createElement('div');
            rowDiv.className = "flex items-center bg-white p-2.5 rounded-lg border border-slate-200 shadow-sm hover:shadow-md transition-shadow";
            
            // Nomor Soal
            const numSpan = document.createElement('span');
            numSpan.className = "font-bold text-slate-700 w-8 text-center text-sm";
            numSpan.innerText = i + ".";
            rowDiv.appendChild(numSpan);

            // Container Opsi (A, B, C...)
            const optionsDiv = document.createElement('div');
            optionsDiv.className = "flex-1 flex justify-around sm:justify-start sm:space-x-4 px-2";

            OPSI_JAWABAN.forEach(opt => {
                const label = document.createElement('label');
                label.className = "cursor-pointer group relative";
                
                const input = document.createElement('input');
                input.type = "radio";
                input.name = `q${i}`;
                input.value = opt;
                input.className = "sr-only option-radio"; // Sembunyikan radio asli

                const bubble = document.createElement('div');
                bubble.className = "w-8 h-8 rounded-full border-2 border-slate-300 flex items-center justify-center text-xs font-bold text-slate-500 transition-all duration-200 group-hover:border-blue-400 group-hover:text-blue-500";
                bubble.innerText = opt;

                label.appendChild(input);
                label.appendChild(bubble);
                optionsDiv.appendChild(label);
            });

            rowDiv.appendChild(optionsDiv);
            formContainer.appendChild(rowDiv);
        }

        // 2. Timer Logic (Sederhana)
        let totalSeconds = 0;
        const timerElement = document.getElementById('timer');
        setInterval(() => {
            ++totalSeconds;
            let h = Math.floor(totalSeconds / 3600).toString().padStart(2, '0');
            let m = Math.floor((totalSeconds % 3600) / 60).toString().padStart(2, '0');
            let s = (totalSeconds % 60).toString().padStart(2, '0');
            timerElement.innerText = `${h}:${m}:${s}`;
        }, 1000);

        // 3. Submit Logic
        function submitExam() {
            const nameInput = document.getElementById('studentName');
            const name = nameInput.value.trim();
            
            if (!name) {
                // Efek getar jika nama kosong
                nameInput.classList.add('ring-2', 'ring-red-500', 'border-red-500', 'animate-pulse');
                nameInput.focus();
                setTimeout(() => nameInput.classList.remove('ring-2', 'ring-red-500', 'border-red-500', 'animate-pulse'), 1000);
                return;
            }

            document.getElementById('modalName').innerText = name;
            document.getElementById('successModal').classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('successModal').classList.add('hidden');
        }
    </script>
</body>
</html>
